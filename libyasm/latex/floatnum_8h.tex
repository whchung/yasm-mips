\hypertarget{floatnum_8h}{\section{floatnum.\-h File Reference}
\label{floatnum_8h}\index{floatnum.\-h@{floatnum.\-h}}
}


Y\-A\-S\-M floating point (I\-E\-E\-E) interface.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void \hyperlink{floatnum_8h_ad484d89d44df247d1250d9081e46b5e4}{yasm\-\_\-floatnum\-\_\-initialize} (void)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void \hyperlink{floatnum_8h_acb0cf088c8a74b6132c24c60a11f5840}{yasm\-\_\-floatnum\-\_\-cleanup} (void)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$ \hyperlink{floatnum_8h_a2db5529c7d061a5a57163d4b6a681924}{yasm\-\_\-floatnum\-\_\-create} (const char $\ast$str)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$ \hyperlink{floatnum_8h_aa41a5e6801cfd57ff0862d4672238464}{yasm\-\_\-floatnum\-\_\-copy} (const \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void \hyperlink{floatnum_8h_ad50779000b19a66a7a5d008b70ca8bb0}{yasm\-\_\-floatnum\-\_\-destroy} (\hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int \hyperlink{floatnum_8h_af6548fd398b04937200d54173d712603}{yasm\-\_\-floatnum\-\_\-calc} (\hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$acc, \hyperlink{coretype_8h_af8de22ca487f38e2b239f7ceb9aabb0d}{yasm\-\_\-expr\-\_\-op} op, \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$operand)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int \hyperlink{floatnum_8h_a169dc0be01d29a62f7192e509e9c3510}{yasm\-\_\-floatnum\-\_\-get\-\_\-int} (const \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt, unsigned long $\ast$ret\-\_\-val)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int \hyperlink{floatnum_8h_a88b29762a56827e00705645e00c18e2e}{yasm\-\_\-floatnum\-\_\-get\-\_\-sized} (const \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt, unsigned char $\ast$ptr, size\-\_\-t destsize, size\-\_\-t valsize, size\-\_\-t shift, int bigendian, int \hyperlink{structwarn}{warn})
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int \hyperlink{floatnum_8h_aed30e64408d9a8fc662e18d351c20587}{yasm\-\_\-floatnum\-\_\-check\-\_\-size} (const \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt, size\-\_\-t size)
\item 
Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void \hyperlink{floatnum_8h_a9457570d50db9a9c2dc1a6d20a4f92a0}{yasm\-\_\-floatnum\-\_\-print} (const \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} $\ast$flt, F\-I\-L\-E $\ast$f)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Y\-A\-S\-M floating point (I\-E\-E\-E) interface. Copyright (C) 2001-\/2007 Peter Johnson

Based on public-\/domain x86 assembly code by Randall Hyde (8/28/91).

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\-:
\begin{DoxyItemize}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{DoxyItemize}

T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E I\-S P\-R\-O\-V\-I\-D\-E\-D B\-Y T\-H\-E A\-U\-T\-H\-O\-R A\-N\-D O\-T\-H\-E\-R C\-O\-N\-T\-R\-I\-B\-U\-T\-O\-R\-S ``\-A\-S I\-S'' A\-N\-D A\-N\-Y E\-X\-P\-R\-E\-S\-S O\-R I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S, I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, T\-H\-E I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S O\-F M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y A\-N\-D F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E A\-R\-E D\-I\-S\-C\-L\-A\-I\-M\-E\-D. I\-N N\-O E\-V\-E\-N\-T S\-H\-A\-L\-L T\-H\-E A\-U\-T\-H\-O\-R O\-R O\-T\-H\-E\-R C\-O\-N\-T\-R\-I\-B\-U\-T\-O\-R\-S B\-E L\-I\-A\-B\-L\-E F\-O\-R A\-N\-Y D\-I\-R\-E\-C\-T, I\-N\-D\-I\-R\-E\-C\-T, I\-N\-C\-I\-D\-E\-N\-T\-A\-L, S\-P\-E\-C\-I\-A\-L, E\-X\-E\-M\-P\-L\-A\-R\-Y, O\-R C\-O\-N\-S\-E\-Q\-U\-E\-N\-T\-I\-A\-L D\-A\-M\-A\-G\-E\-S (I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, P\-R\-O\-C\-U\-R\-E\-M\-E\-N\-T O\-F S\-U\-B\-S\-T\-I\-T\-U\-T\-E G\-O\-O\-D\-S O\-R S\-E\-R\-V\-I\-C\-E\-S; L\-O\-S\-S O\-F U\-S\-E, D\-A\-T\-A, O\-R P\-R\-O\-F\-I\-T\-S; O\-R B\-U\-S\-I\-N\-E\-S\-S I\-N\-T\-E\-R\-R\-U\-P\-T\-I\-O\-N) H\-O\-W\-E\-V\-E\-R C\-A\-U\-S\-E\-D A\-N\-D O\-N A\-N\-Y T\-H\-E\-O\-R\-Y O\-F L\-I\-A\-B\-I\-L\-I\-T\-Y, W\-H\-E\-T\-H\-E\-R I\-N C\-O\-N\-T\-R\-A\-C\-T, S\-T\-R\-I\-C\-T L\-I\-A\-B\-I\-L\-I\-T\-Y, O\-R T\-O\-R\-T (I\-N\-C\-L\-U\-D\-I\-N\-G N\-E\-G\-L\-I\-G\-E\-N\-C\-E O\-R O\-T\-H\-E\-R\-W\-I\-S\-E) A\-R\-I\-S\-I\-N\-G I\-N A\-N\-Y W\-A\-Y O\-U\-T O\-F T\-H\-E U\-S\-E O\-F T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E, E\-V\-E\-N I\-F A\-D\-V\-I\-S\-E\-D O\-F T\-H\-E P\-O\-S\-S\-I\-B\-I\-L\-I\-T\-Y O\-F S\-U\-C\-H D\-A\-M\-A\-G\-E.  

\subsection{Function Documentation}
\hypertarget{floatnum_8h_af6548fd398b04937200d54173d712603}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-calc@{yasm\-\_\-floatnum\-\_\-calc}}
\index{yasm\-\_\-floatnum\-\_\-calc@{yasm\-\_\-floatnum\-\_\-calc}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-calc}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int yasm\-\_\-floatnum\-\_\-calc (
\begin{DoxyParamCaption}
\item[{{\bf yasm\-\_\-floatnum} $\ast$}]{acc, }
\item[{{\bf yasm\-\_\-expr\-\_\-op}}]{op, }
\item[{{\bf yasm\-\_\-floatnum} $\ast$}]{operand}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_af6548fd398b04937200d54173d712603}
Floating point calculation function\-: acc = acc op operand. \begin{DoxyNote}{Note}
Not all operations in yasm\-\_\-expr\-\_\-op may be supported; unsupported operations will result in an error. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em acc} & floatnum accumulator \\
\hline
{\em op} & operation \\
\hline
{\em operand} & floatnum operand \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nonzero on error. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_aed30e64408d9a8fc662e18d351c20587}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-check\-\_\-size@{yasm\-\_\-floatnum\-\_\-check\-\_\-size}}
\index{yasm\-\_\-floatnum\-\_\-check\-\_\-size@{yasm\-\_\-floatnum\-\_\-check\-\_\-size}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-check\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int yasm\-\_\-floatnum\-\_\-check\-\_\-size (
\begin{DoxyParamCaption}
\item[{const {\bf yasm\-\_\-floatnum} $\ast$}]{flt, }
\item[{size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_aed30e64408d9a8fc662e18d351c20587}
Basic check to see if size is valid for flt conversion (using \hyperlink{floatnum_8h_a88b29762a56827e00705645e00c18e2e}{yasm\-\_\-floatnum\-\_\-get\-\_\-sized()}). Doesn't actually check for underflow/overflow but rather checks for size=32,64,80 (at present). 
\begin{DoxyParams}{Parameters}
{\em flt} & floatnum \\
\hline
{\em size} & number of bits of output space \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if valid size, 0 if invalid size. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_acb0cf088c8a74b6132c24c60a11f5840}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-cleanup@{yasm\-\_\-floatnum\-\_\-cleanup}}
\index{yasm\-\_\-floatnum\-\_\-cleanup@{yasm\-\_\-floatnum\-\_\-cleanup}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-cleanup}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void yasm\-\_\-floatnum\-\_\-cleanup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_acb0cf088c8a74b6132c24c60a11f5840}
Clean up internal floatnum allocations. \hypertarget{floatnum_8h_aa41a5e6801cfd57ff0862d4672238464}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-copy@{yasm\-\_\-floatnum\-\_\-copy}}
\index{yasm\-\_\-floatnum\-\_\-copy@{yasm\-\_\-floatnum\-\_\-copy}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-copy}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L {\bf yasm\-\_\-floatnum}$\ast$ yasm\-\_\-floatnum\-\_\-copy (
\begin{DoxyParamCaption}
\item[{const {\bf yasm\-\_\-floatnum} $\ast$}]{flt}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_aa41a5e6801cfd57ff0862d4672238464}
Duplicate a floatnum. 
\begin{DoxyParams}{Parameters}
{\em flt} & floatnum \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Newly allocated floatnum with the same value as flt. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_a2db5529c7d061a5a57163d4b6a681924}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-create@{yasm\-\_\-floatnum\-\_\-create}}
\index{yasm\-\_\-floatnum\-\_\-create@{yasm\-\_\-floatnum\-\_\-create}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L {\bf yasm\-\_\-floatnum}$\ast$ yasm\-\_\-floatnum\-\_\-create (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_a2db5529c7d061a5a57163d4b6a681924}
Create a new floatnum from a decimal string. The input string must be in standard C representation (\mbox{[}+-\/\mbox{]}123.\-456e\mbox{[}-\/+\mbox{]}789). 
\begin{DoxyParams}{Parameters}
{\em str} & floating point decimal string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Newly allocated floatnum. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_ad50779000b19a66a7a5d008b70ca8bb0}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-destroy@{yasm\-\_\-floatnum\-\_\-destroy}}
\index{yasm\-\_\-floatnum\-\_\-destroy@{yasm\-\_\-floatnum\-\_\-destroy}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-destroy}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void yasm\-\_\-floatnum\-\_\-destroy (
\begin{DoxyParamCaption}
\item[{{\bf yasm\-\_\-floatnum} $\ast$}]{flt}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_ad50779000b19a66a7a5d008b70ca8bb0}
Destroy (free allocated memory for) a floatnum. 
\begin{DoxyParams}{Parameters}
{\em flt} & floatnum \\
\hline
\end{DoxyParams}
\hypertarget{floatnum_8h_a169dc0be01d29a62f7192e509e9c3510}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-get\-\_\-int@{yasm\-\_\-floatnum\-\_\-get\-\_\-int}}
\index{yasm\-\_\-floatnum\-\_\-get\-\_\-int@{yasm\-\_\-floatnum\-\_\-get\-\_\-int}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-get\-\_\-int}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int yasm\-\_\-floatnum\-\_\-get\-\_\-int (
\begin{DoxyParamCaption}
\item[{const {\bf yasm\-\_\-floatnum} $\ast$}]{flt, }
\item[{unsigned long $\ast$}]{ret\-\_\-val}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_a169dc0be01d29a62f7192e509e9c3510}
Convert a floatnum to single-\/precision and return as 32-\/bit value. The 32-\/bit value is a \char`\"{}standard\char`\"{} C value (eg, of unknown endian). 
\begin{DoxyParams}{Parameters}
{\em flt} & floatnum \\
\hline
{\em ret\-\_\-val} & pointer to storage for 32-\/bit output \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nonzero if flt can't fit into single precision\-: -\/1 if underflow occurred, 1 if overflow occurred. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_a88b29762a56827e00705645e00c18e2e}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-get\-\_\-sized@{yasm\-\_\-floatnum\-\_\-get\-\_\-sized}}
\index{yasm\-\_\-floatnum\-\_\-get\-\_\-sized@{yasm\-\_\-floatnum\-\_\-get\-\_\-sized}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-get\-\_\-sized}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L int yasm\-\_\-floatnum\-\_\-get\-\_\-sized (
\begin{DoxyParamCaption}
\item[{const {\bf yasm\-\_\-floatnum} $\ast$}]{flt, }
\item[{unsigned char $\ast$}]{ptr, }
\item[{size\-\_\-t}]{destsize, }
\item[{size\-\_\-t}]{valsize, }
\item[{size\-\_\-t}]{shift, }
\item[{int}]{bigendian, }
\item[{int}]{warn}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_a88b29762a56827e00705645e00c18e2e}
Output a \hyperlink{structyasm__floatnum}{yasm\-\_\-floatnum} to buffer in little-\/endian or big-\/endian. Puts the value into the least significant bits of the destination, or may be shifted into more significant bits by the shift parameter. The destination bits are cleared before being set. \mbox{[}0\mbox{]} should be the first byte output to the file. \begin{DoxyNote}{Note}
Not all sizes are valid. Currently, only 32 (single-\/precision), 64 (double-\/precision), and 80 (extended-\/precision) are valid sizes. Use \hyperlink{floatnum_8h_aed30e64408d9a8fc662e18d351c20587}{yasm\-\_\-floatnum\-\_\-check\-\_\-size()} to check for supported sizes. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em flt} & floatnum \\
\hline
{\em ptr} & pointer to storage for size bytes of output \\
\hline
{\em destsize} & destination size (in bytes) \\
\hline
{\em valsize} & size (in bits) \\
\hline
{\em shift} & left shift (in bits) \\
\hline
{\em bigendian} & endianness (nonzero=big, zero=little) \\
\hline
{\em warn} & enables standard overflow/underflow warnings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nonzero if flt can't fit into the specified precision\-: -\/1 if underflow occurred, 1 if overflow occurred. 
\end{DoxyReturn}
\hypertarget{floatnum_8h_ad484d89d44df247d1250d9081e46b5e4}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-initialize@{yasm\-\_\-floatnum\-\_\-initialize}}
\index{yasm\-\_\-floatnum\-\_\-initialize@{yasm\-\_\-floatnum\-\_\-initialize}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-initialize}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void yasm\-\_\-floatnum\-\_\-initialize (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_ad484d89d44df247d1250d9081e46b5e4}
Initialize floatnum internal data structures. \hypertarget{floatnum_8h_a9457570d50db9a9c2dc1a6d20a4f92a0}{\index{floatnum.\-h@{floatnum.\-h}!yasm\-\_\-floatnum\-\_\-print@{yasm\-\_\-floatnum\-\_\-print}}
\index{yasm\-\_\-floatnum\-\_\-print@{yasm\-\_\-floatnum\-\_\-print}!floatnum.h@{floatnum.\-h}}
\subsubsection[{yasm\-\_\-floatnum\-\_\-print}]{\setlength{\rightskip}{0pt plus 5cm}Y\-A\-S\-M\-\_\-\-L\-I\-B\-\_\-\-D\-E\-C\-L void yasm\-\_\-floatnum\-\_\-print (
\begin{DoxyParamCaption}
\item[{const {\bf yasm\-\_\-floatnum} $\ast$}]{flt, }
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{floatnum_8h_a9457570d50db9a9c2dc1a6d20a4f92a0}
Print various representations of a floatnum. For debugging purposes only. 
\begin{DoxyParams}{Parameters}
{\em f} & file \\
\hline
{\em flt} & floatnum \\
\hline
\end{DoxyParams}
